---
import "../styles/global.css";
import grogu from "../assets/grogu.png";
import TekBox from "../components/tekBox.astro";
import { CarouselDemo } from "@/components/bleedCarousel";
import { ExpTabs } from "@/components/ExpTabs";
---

<html>
  <head>
    <title>Portfolio ahh</title>
  </head>
  <body
    class="overflow-y-auto overflow-x-hidden bg-black scrollbar-hide scroll-smooth"
  >
    <div class="bg-black flex flex-col relative w-screen h-[100%]">
      <div
        id="falcon-bg"
        class="absolute bg-[url('../assets/falcon.jpg')] bg-cover bg-no-repeat min-h-[100vh] w-screen"
        style="
          -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
          mask: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
          background-attachment: fixed;
        "
      >
      </div>
      <div
        class="flex flex-col relative z-100 min-h-[100vh] justify-center items-center pt-[60px]"
      >
        <div
          class="outer-rings whitespace-nowrap rounded-full flex items-center justify-center"
        >
          <div class="inner-rings flex items-center justify-center">
            <div
              class="w-full h-full rounded-full flex flex-col items-center justify-center"
            >
              <p class="text-white font-clash font-semibold">
                HELLO THERE, I AM
              </p>
              <p class="text-white font-clash font-extrabold text-2xl">
                NAVEEN BHARATH
              </p>
              <div
                id="cycler"
                class="text-white font-clash opacity-100 transition-opacity duration-500 font-semibold pt-2"
              >
                STUDENT
              </div>
            </div>
          </div>
        </div>
        <div class="w-[1px] h-[50px] justify-self-center bg-white/40"></div>

        <p class="semibold font-clash text-white animate-bounce">SCROLL DOWN</p>

        <div
          id="mid-bg"
          class="flex flex-col justify-center items-center bg-[url('../assets/bg_mid.jpg')] bg-cover bg-no-repeat w-screen h-full"
          style="
            -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 40%, rgba(0,0,0,1) 100%);
            mask: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 40%, rgba(0,0,0,1) 100%);
            background-attachment: fixed;
          "
        >
          <div class="w-[1px] h-[150px] justify-self-center bg-white/40"></div>
          <p
            class="font-bold text-2xl font-stretch-[300px] text-white pl-[50px] font-clash"
          >
            ABOUT ME
          </p>
          <div
            class="w-[1px] h-[25px] justify-self-center bg-[linear-gradient(to_bottom,rgba(0,0,0,0)_0%,rgba(255,255,255,0.4)_20%,rgba(255,255,255,0.4)_80%,rgba(0,0,0,0)_100%)]"
          >
          </div>
          <div class="w-[1px] h-[15px] justify-self-center bg-white/40"></div>

          <div class="flex flex-row overflow-hidden justify-center w-full">
            <div
              class="text-white text-sm font-clash w-[250px] text-left pt-[80px] tracking-widest"
            >
              <p class="font-semibold text-center pb-1">BORING STUFF</p>
              <p>
                I'M A 19 Y/O PRE-FINAL YEAR STUDENT AT VIT CHENNAI PURSUING MY
                ENGINEERING BACHELORS IN COMPUTER SCIENCE. MY HOBBIES ARE
                PLAYING GAMES, RICING MY DISTRO, WATCHING ANIME. I'M A HUGE STAR
                WARS FAN (surprise !!).
              </p>
            </div>
            <div class="outer-rings flex items-center justify-center mb-10">
              <div
                class="inner-rings w-[250px] h-[250px] whitespace-nowrap rounded-full flex items-center justify-center"
              >
                <div
                  class="w-full h-full rounded-full flex flex-col items-center justify-around"
                >
                  <img src={grogu.src} alt="huh" width="150" height="150" />
                </div>
              </div>
            </div>
            <div
              class="text-white text-sm font-clash w-[250px] text-right pt-[80px] pr-2 tracking-widest pb-2"
            >
              <p class="font-semibold text-center pb-1">ACTIVELY WORKING ON</p>
              <ul>
                <li>SYSTEM'S PROGRAMMING</li>
                <li>MACHINE LEARNING</li>
                <li>WEB3 DEVELOPMENT</li>
                <li>ANDROID DEVELOPMENT</li>
                <li>RED TEAMING AND PENTESTING</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="w-[1px] h-[150px] justify-self-center bg-white/40"></div>
        <p
          class="font-bold text-2xl font-stretch-[300px] text-white pr-[50px] font-clash"
        >
          TECH STACKS
        </p>
        <div class="w-[1px] h-[30px] justify-self-center bg-white/40"></div>
        <div class="flex w-full justify-center items-center gap-2">
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/Dart.png" name="Dart" />
          </div>
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/Csharp.png" name="C#" />
            <TekBox url="/icons_tech/Flutter.png" name="Flutter" />
          </div>
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/NET core.png" name=".NET" />
            <TekBox url="/icons_tech/NumPy.png" name="NumPy" />
            <TekBox url="/icons_tech/rust.png" name="Rust" />
            <TekBox url="/icons_tech/PostgresSQL.png" name="PostgreSQL" />
            <TekBox url="/icons_tech/TensorFlow.png" name="TensorFlow" />
          </div>
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/astro.png" name="Astro" />
            <TekBox url="/icons_tech/bash.png" name="Bash" />
            <TekBox url="/icons_tech/c.png" name="C" />
            <TekBox url="/icons_tech/cpp.png" name="C++" />
            <TekBox url="/icons_tech/html.png" name="HTML" />
          </div>
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/css.png" name="CSS" />
            <TekBox url="/icons_tech/django.png" name="Django" />
            <TekBox url="/icons_tech/python.png" name="Python" />
            <TekBox url="/icons_tech/react.png" name="React" />
          </div>
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/Pandas.png" name="Pandas" />
            <TekBox url="/icons_tech/typescript.png" name="TypeScript" />
            <TekBox url="/icons_tech/wagmi.png" name="Wagmi" />
          </div>
          <div class="flex flex-col gap-1">
            <TekBox url="/icons_tech/tailwind.png" name="Tailwind" />
          </div>
        </div>
        <div class="w-[1px] h-[150px] justify-self-center bg-white/40"></div>
        <p class="text-white font-clash font-bold text-xl ml-[50px]">
          PROJECTS
        </p>
        <div class="w-[1px] h-[20px] justify-self-center bg-white/40"></div>
        <CarouselDemo client:only="idle" />
        <div class="w-[1px] h-[150px] justify-self-center bg-white/40"></div>
        <p class="text-white font-clash font-bold text-xl mr-[50px]">
          EXPERIENCE
        </p>
        <div class="w-[1px] h-[20px] justify-self-center bg-white/40"></div>
        <div
          id="exp-bg"
          class="bg-[url('../assets/bg_3.jpg')] bg-cover bg-top bg-no-repeat min-h-[80vh] w-screen"
          style="
            -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 50%, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%);
            mask: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 50%, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%);
            background-attachment: fixed;
          "
        >
          <div class="pl-2"><ExpTabs client:only="idle" /></div>
        </div>
      </div>
    </div>
  </body>

  <script>
    // Firefox/Zen Browser detection and fixes
    const isGecko =
      navigator.userAgent.toLowerCase().includes("firefox") ||
      navigator.userAgent.toLowerCase().includes("zen") ||
      typeof InstallTrigger !== "undefined";

    if (isGecko) {
      // Disable background-attachment: fixed for Firefox
      const bgElements = ["falcon-bg", "mid-bg", "exp-bg"];
      bgElements.forEach((id) => {
        const element = document.getElementById(id);
        if (element) {
          element.style.backgroundAttachment = "scroll";
          // Add hardware acceleration
          element.style.transform = "translateZ(0)";
          element.style.willChange = "transform";
          // Use simpler masks for Firefox
          if (id === "falcon-bg") {
            element.style.mask =
              "linear-gradient(to bottom, black 0%, black 60%, transparent 100%)";
            element.style.webkitMask =
              "linear-gradient(to bottom, black 0%, black 60%, transparent 100%)";
          } else if (id === "mid-bg") {
            element.style.mask =
              "linear-gradient(to bottom, transparent 0%, black 40%, black 100%)";
            element.style.webkitMask =
              "linear-gradient(to bottom, transparent 0%, black 40%, black 100%)";
          } else if (id === "exp-bg") {
            element.style.mask =
              "linear-gradient(to bottom, transparent 0%, black 50%, black 100%)";
            element.style.webkitMask =
              "linear-gradient(to bottom, transparent 0%, black 50%, black 100%)";
          }
        }
      });
    }

    // Text cycling animation
    const l_1 = [
      "Student",
      "Systems Programmer",
      "ML engineer",
      "Blockchain Developer",
      "Android Developer",
      "linux enthusiast",
      "Pentester",
    ];
    const cycler_ = document.getElementById("cycler");
    let i = 1;

    setInterval(() => {
      cycler_.classList.remove("opacity-100");
      cycler_.classList.add("opacity-0");
      setTimeout(() => {
        i = (i + 1) % l_1.length;
        cycler_.textContent = l_1[i].toUpperCase();
        cycler_.classList.remove("opacity-0");
        cycler_.classList.add("opacity-100");
      }, 500);
    }, 3000);
  </script>
</html>
